@using FinTracker.Models;
<div class="alertWrapper" ng-show="errorMessages.length>0 && WMRedo.StartedDate.length === 0 ">
    <div role="alert" class="alert alert-danger alert-dismissable" id="errmsgs">
        <ul>
            <li ng-repeat="err in errorMessages">{{err}}</li>
        </ul>
    </div>
</div>
<div class="col-lg-12 h4 text-primary">
    Team: Expense Reimbursement
</div>
<div class="panel-primary col-lg-5" data-ng-init="load('@Common.GetUser.UserId');">
    <div class="panel-heading panel-title">
        Log Entry <span class="pull-right h6" ng-show="WorkMaint.Status=='Created'">Created
            On {{WorkMaint.StartedDate |jsDate|date:'MM/dd/yyyy HH:mm'}}</span>
    </div>
    <div class="panel-body">
        <div class="form-group col-lg-12">
            <label class="control-label col-lg-4" for="Activity">
                Activity</label>
            <div class="col-lg-6">
                <select class="form-control" data-ng-model="WorkMaint.ActivityId" ng-disabled="WorkMaint.Status=='Created'">
                    @*<option ng-repeat="ac in [{id:1,activity:'BonusPayments'},{id:2,activity:'Nothing'},{id:3,activity:'SomeOther'}]" value="{{ac.id}}">{{ac.activity}}</option>    *@
                    <option data-ng-selected="{{WorkMaint.ActivityId==ac.activityid}}" ng-repeat="ac in WorkMaint.ActivityList"
                        value="{{ac.activityid}}">{{ac.description}}</option>
                </select>
            </div>
            <button class="btn" ng-class="LockActivity?'btn-primary':'btn-default'" ng-click="toggleLock()">
                <i class="glyphicon glyphicon-star"></i>
            </button>
        </div>
       
        <div class="form-group col-lg-12" ng-show="WorkMaint.Status=='Created'">
            <label for="Type" class="control-label col-lg-4">
                Expense Report Id</label>
            <div class="col-lg-6">
                <input type="text" class="form-control"
                    data-ng-model="WorkMaint.InvoiceNumber" maxlength="50" placeholder="Enter Expense Report Id" />
            </div>
        </div>
        <div class="form-group col-lg-12" ng-show="WorkMaint.Status=='Created'">
            <label for="Comments" class="control-label col-lg-4">Comments</label>
            <div class="col-lg-6">
                <textarea class="form-control" rows="5" data-ng-model="WorkMaint.Comments"></textarea>
            </div>
        </div>
        <div class="form-group col-lg-10">
            <div class="pull-right">
                <button class="btn btn-success" data-ng-click="validate_exp('submit').length===0 && update()" ng-show="WorkMaint.Status=='Created'">
                    <i class="glyphicon glyphicon-ok"></i>&nbsp; <span>Submit</span>
                    <!--validate_update().length === 0 &&-->
                </button>
                <button class="btn btn-primary" data-ng-click="validate_exp('save').length===0 && save()" ng-hide="WorkMaint.Status=='Created'">
                    <i class="glyphicon glyphicon-log-in"></i>&nbsp; <span>Create</span>
                </button>
                <button class="btn btn-warning" data-ng-click="clear()" ng-hide="WorkMaint.Status=='Created'">
                    <i class="glyphicon glyphicon-remove"></i>&nbsp; <span>Clear</span>
                </button>
            </div>
        </div>
    </div>
</div>
@*}*@



